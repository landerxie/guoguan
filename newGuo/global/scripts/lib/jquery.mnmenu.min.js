function MNLevelSettings(){this.parentAttachmentPosition=$.fn.mnmenu.defaults.defaultParentAttachmentPosition,this.attachmentPosition=$.fn.mnmenu.defaults.defaultAttachmentPosition,this.arrowCharacter=$.fn.mnmenu.defaults.arrowCharacter}!function(a){a.fn.mnmenu=function(b){var c={};"undefined"!=typeof b&&"undefined"!=typeof b.levelSettings&&(c=b.levelSettings,delete b.levelSettings);var d=a.extend({},a.fn.mnmenu.defaults,b);return d.levelSettings=a.extend({},d.levelSettings,c),this.each(function(){var b=a(this);"UL"!==b.prop("tagName").toUpperCase()&&a.error("This function can only be called in <ul> elements."),b.addClass(d.menuClassName),a.fn.mnmenu.levelRecursion(d,b,0),b.find("ul").each(function(){a(this).css("display","none")}),b.find("li").each(a.fn.hoverIntent?function(){var b=a(this);b.hoverIntent(function(){a.fn.mnmenu.mouseEnter(a(this),d)},function(){a.fn.mnmenu.mouseLeave(a(this),d)}),b.click(function(b){a.fn.mnmenu.mouseClick(a(this),d),b.stopImmediatePropagation()})}:function(){var b=a(this);b.mouseenter(function(){a.fn.mnmenu.mouseEnter(a(this),d)}),b.mouseleave(function(){a.fn.mnmenu.mouseLeave(a(this),d)}),b.click(function(b){a.fn.mnmenu.mouseClick(a(this),d),b.stopImmediatePropagation()})})})},a.fn.mnmenu.mouseEnter=function(b,c){var d=a(window).width();clearTimeout(b.data("timer")),a.fn.mnmenu.elementsToHover(b,c).each(function(){a(this).addClass(c.hoverClassName)}),b.children("ul").each(function(){var b=a(this),e=b.parent("li"),f=e.closest("ul");if(b.is(":animated"))b.stop(!0,!0).show();else{for(var g=1,h=b;h.get(0)!==a(document).get(0);){var i=parseInt(h.css("z-index"));!isNaN(i)&&i>g&&(g=i),h=h.parent()}b.css("z-index",g+1);for(var j=0,k=b[0].className.split(/\s+/),l=0;l<k.length;l++)k[l].indexOf([c.levelClassPrefix,"-"].join(""))>=0&&(j=parseInt(k[l].substring(c.levelClassPrefix.length+1)));var m=c.levelSettings[j];"undefined"==typeof m&&(m=c.levelSettings[0]);var n="auto",o="auto",p="auto",q="auto";m.parentAttachmentPosition.toUpperCase().indexOf("W")>=0&&m.attachmentPosition.toUpperCase().indexOf("E")>=0?(o=e.outerWidth()+"px",e.offset().left-b.outerWidth()<0&&(n=e.outerWidth()+"px",o="auto")):m.parentAttachmentPosition.toUpperCase().indexOf("E")>=0&&m.attachmentPosition.toUpperCase().indexOf("E")>=0?o="0px":m.parentAttachmentPosition.toUpperCase().indexOf("E")>=0&&m.attachmentPosition.toUpperCase().indexOf("W")>=0?(n=e.outerWidth()+"px",f.offset().left+f.outerWidth()+b.outerWidth()>d&&(n="auto",o=e.outerWidth()+"px")):m.parentAttachmentPosition.toUpperCase().indexOf("W")>=0&&m.attachmentPosition.toUpperCase().indexOf("W")>=0&&(n="0px"),m.parentAttachmentPosition.toUpperCase().indexOf("N")>=0&&m.attachmentPosition.toUpperCase().indexOf("S")>=0?q=e.outerHeight()+"px":m.parentAttachmentPosition.toUpperCase().indexOf("S")>=0&&m.attachmentPosition.toUpperCase().indexOf("S")>=0?q="0px":m.parentAttachmentPosition.toUpperCase().indexOf("S")>=0&&m.attachmentPosition.toUpperCase().indexOf("N")>=0?p=e.outerHeight()+"px":m.parentAttachmentPosition.toUpperCase().indexOf("N")>=0&&m.attachmentPosition.toUpperCase().indexOf("N")>=0&&(p="0px"),b.css("left",n),b.css("right",o),b.css("top",p),b.css("bottom",q),b.slideDown(c.duration)}})},a.fn.mnmenu.mouseLeave=function(b,c){clearTimeout(b.data("timer")),a.fn.mnmenu.elementsToHover(b,c).each(function(){a(this).removeClass(c.hoverClassName)}),b.children("ul").each(function(){var d=a(this);b.data("timer",setTimeout(function(){d.hide(c.duration)},c.delay))})},a.fn.mnmenu.mouseClick=function(a){clearTimeout(a.data("timer"));var b=a.children("a");b.attr("href")},a.fn.mnmenu.elementsToHover=function(b){return a([b,b.children(":not(ul)")])},a.fn.mnmenu.levelRecursion=function(b,c,d){if("LI"===c.prop("tagName").toUpperCase()){var e=!0;c.parent().children().first().get(0)===c.get(0)&&d>0&&(c.parent().closest("li").append(a(["<span ","class='",b.arrowClassName,"'></span>"].join("")).append(b.arrowCharacter)),c.addClass(b.firstClassName),e=!1),c.parent().children().last().get(0)===c.get(0)&&(c.addClass(b.lastClassName),e=!1),e&&c.addClass(b.middleClassName),d++}c.children().each(function(){var c=a(this);c.addClass(b.levelClassPrefix+"-"+d),a.fn.mnmenu.levelRecursion(b,c,d)})},a.fn.mnmenu.defaults={menuClassName:"mnmenu",hoverClassName:"hover",levelClassPrefix:"level",arrowClassName:"arrow",arrowCharacter:" &#187;",firstClassName:"first",middleClassName:"middle",lastClassName:"last",delay:150,duration:0,defaultParentAttachmentPosition:"NE",defaultAttachmentPosition:"NW"},a.fn.mnmenu.defaults.levelSettings={},a.fn.mnmenu.defaults.levelSettings[0]=new MNLevelSettings,a.fn.mnmenu.defaults.levelSettings[1]=new MNLevelSettings,a.fn.mnmenu.defaults.levelSettings[1].parentAttachmentPosition="SW",a.fn.mnmenu.defaults.levelSettings[1].attachmentPosition="NW"}(jQuery);