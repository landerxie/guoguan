<html xmlns="http://www.w3.org/1999/xhtml" class="yr2004"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="description" content="HTML5 dataset下的数据图效果 » 张鑫旭-鑫空间-鑫生活">
    <meta name="description" content="张鑫旭web前端学习实例页面">
    <meta name="keywords" content="张鑫旭, 张鑫旭-鑫空间-鑫生活, web前端, css, jQuery, javascript, demo页面">
    <meta name="author" content="张鑫旭, zhangxixnu">
    <title>HTML5 dataset下的数据图效果 » 张鑫旭-鑫空间-鑫生活</title>
    <link rel="stylesheet" href="../css/demo.css" type="text/css">
    <style>
        #top {
            width:600px;
            padding: 1em;
            margin: 2em auto 10em;
            background-color: #cad5eb;
            text-align: center;
        }

        #title {
            padding-bottom: 1em;
            font:bold 14px/1.5 '幼圆', '微软雅黑';
            color: #800;
        }

        #unsupport strong {
            display: block;
            padding: 20px;
            background-color: #c80;
            color: #fff;
        }
        #dataset {
            width: 600px;
            height: 400px;
            margin: 2em auto;
            position: relative;
            text-shadow: none;
            text-align: center;
        }
        #dataset b {
            position: absolute;
            text-transform: uppercase;
            width: 1em;
            height: 1em;
            font-weight: normal;
            border-radius: 1em;
            line-height: 1em;
            -o-transition: font-size 1s;
            -webkit-transition: all 1s;
            -moz-transition: font-size 1s;
            -ms-transition: font-size 1s;
            transition: font-size 1s;
        }
        #dataset b i,
        #dataset b:after {
            font-size: 14px;
            position: absolute;
            right: 0;
            left: 0;
            margin-top: -7px;
            font-style: normal;
            font-weight: normal;
        }

        #dataset b:after {
            content: "€" attr(data-cost) "/kWh";
            top: 16px;
            font-size: 12px;
            white-space: nowrap;
            text-transform: none;
        }


        b[data-country="UK"] {
            background: hsla(174, 74%, 56%, 0.5); /*turquoise */
            left: 1%;
            top: -2%;

        }

        b[data-country="Germany"] {
            background: hsla(300, 76%, 72%, 0.5); /* Violet */
            right: 0;
            top: 0%;
        }

        b[data-country="France"] {
            background: hsla(197, 71%, 73%, 0.5); /* skyblue */
            left: 58%;
            top: 15%;
        }

        b[data-country="Greece"] {
            background: hsla(0, 59%, 41%, 0.5); /* brown */
            left: 22%;
            top: -15%;
        }

        b[data-country="Ireland"] {
            background: hsla(120, 100%, 25%, 0.5); /* green */
            left: 10%;
            top: 30%;
        }

        b[data-country="Sweden"] {
            background: hsla(271, 76%, 53%, 0.7); /* blue */
            right: 20%;
            top: -15%;
        }

        b[data-country="Belgium"] {
            background: hsla(0, 53%, 58%, 0.5); /* indianred */
            left: 50%;
            top: 40%;
        }

        b[data-country="Norway"] {
            background: hsla(300, 100%, 25%, 0.5); /* purple */
            left: 32%;
            top: 5%;
        }

        b[data-size="1"] {
            font-size: 4em;
        }

        b[data-size="2"] {
            font-size: 5em;
        }

        b[data-size="3"] {
            font-size: 6em;
        }

        b[data-size="4"] {
            font-size: 7em;
        }

        b[data-size="5"] {
            font-size: 8em;
        }

        b[data-size="6"] {
            font-size: 9em;
        }

        b[data-size="7"] {
            font-size: 10em;
        }
    </style>
    <link type="text/css" rel="stylesheet" href="chrome-extension://imamemhokkdleoelohnmkimbmpfglcil/css/capture.css"><style id="huaban_Style">#huaban_Container {font-family: 'helvetica neue', arial, sans-serif; position: absolute; padding-top: 37px; z-index: 100000002; top: 0; left: 0; background-color: transparent; opacity: 1;hasLayout:-1;}#huaban_Overlay {position: fixed; z-index: 100000001; top: 0; right: 0; bottom: 0; left: 0; background-color: #f2f2f2; opacity: .95;}* html #huaban_Overlay {position: absolute;}#huaban_Control {position:relative; z-index: 100000; float: left; background-color: #fcf9f9; border: solid #ccc; border-width: 0 1px 1px 0; height: 200px; width: 200px; opacity: 1;}* html #huaban_Control {position:static;}#huaban_Control img {position: relative; padding: 0; display: block; margin: 82px auto 0; -ms-interpolation-mode: bicubic;}#huaban_Control a {position: fixed; z-index: 10001; right: 0; top: 0; left: 0; height: 24px; padding: 12px 0 0; text-align: center; font-size: 14px; line-height: 1em; text-shadow: 0 1px #fff; color: #211922; font-weight: bold; text-decoration: none; background: #fff url(http://huaban.com/img/fullGradient07Normal.png) 0 0 repeat-x; border-bottom: 1px solid #ccc; -mox-box-shadow: 0 0 2px #d7d7d7; -webkit-box-shadow: 0 0 2px #d7d7d7;}* html #huaban_Control a {position: absolute; width: 100%;}#huaban_Control a:hover {color: #fff; text-decoration: none; background-color: #1389e5; border-color: #1389e5; text-shadow: 0 -1px #46A0E6;}#huaban_Control a:active {height: 23px; padding-top: 13px; background-color: #211922; border-color: #211922; background-image: url(http://huaban.com/img/fullGradient07Inverted.png); text-shadow: 0 -1px #211922;}.huabanImagePreview {position: relative; padding: 0; margin: 0; float: left; background-color: #fff; border: solid #e7e7e7; border-width: 0 1px 1px 0; height: 200px; width: 200px; opacity: 1; z-index: 10002; text-align: center; overflow:hidden;}.huabanImagePreview .huabanVideoIcon {position:absolute;display:block;top:0;left:0;width:100%;height:100%;background:url(http://huaban.com/img/media_video.png) center center no-repeat;}.huabanImagePreview .huabanImg {border: none; height: 200px; width: 200px; opacity: 1; padding: 0; position: absolute; top: 0; left: 0;}.huabanImagePreview .huabanImg a {margin: 0; padding: 0; position: absolute; top: 0; bottom: 0; right: 0; left: 0; display: block; text-align: center;  z-index: 1;}.huabanImagePreview .huabanImg a:hover {background-color: #fcf9f9; border: none;}.huabanImagePreview .huabanImg .ImageToPin {max-height: 200px; max-width: 200px; width: auto !important; height: auto !important;}.huabanImagePreview img.huaban_PinIt {border: none; position: absolute; top: 82px; left: 42px; display: none; padding: 0; background-color: transparent; z-index: 100;}.huabanImagePreview strong {text-indent: -9999px; position: absolute; top: 82px; display: none; height: 32px; background: url(http://huaban.com/img/bm_pin_sprite.png?20120918) no-repeat 0 0;}.huabanImagePreview strong.huaban_ThunderPin {width: 24px; left: 52px; background-position: 0 0;}.huabanImagePreview strong.huaban_ThunderPin:hover {background-position: 0 -50px;}.huabanImagePreview strong.huaban_ThunderPin:active {background-position: 0 -100px;}.huabanImagePreview strong.huaban_Pin {width: 72px; left: 75px; background-position: -40px 0;}.huabanImagePreview strong.huaban_Pin:hover {background-position: -40px -50px;}.huabanImagePreview strong.huaban_Pin:active {background-position: -40px -100px;}.huabanImagePreview img.huaban_vidind {border: none; position: absolute; top: 75px; left: 75px; padding: 0; background-color: transparent; z-index: 99;}.huabanDimensions { color: #000; position: relative; margin-top: 180px; text-align: center; font-size: 10px; z-index:10003; display: inline-block; background: white; border-radius: 4px; padding: 0 2px;}#huaban_Button, #huaban_Button *, #huaban_Container, #huaban_Container * { -webkit-box-sizing: content-box; -moz-box-sizing: content-box; -ms-box-sizing: content-box; box-sizing: content-box;}#huaban_Button { display: none; position: absolute; z-index: 999999999 !important; color: #211922; text-shadow: 0 1px #eaeaea; font: 12px/1 'Helvetica Neue',Helvetica,Arial,Sans-serif; text-align: center; padding: 0; margin: 0; cursor: pointer;}#huaban_Button a {text-decoration: none; color: #211922; display: inline-block; text-align: center; line-height: 14px; height: 14px; border-radius: 2px; -webkit-border-radius: 2px; -moz-border-radius: 2px; -ms-border-radius: 2px; -o-border-radius: 2px; cursor: pointer; position: absolute; top: 0; left: 0; height: 14px; margin: 0 2px; padding: 5px 8px; border: 1px solid #555; border: 1px solid rgba(140, 126, 126, .5); background-color: #fff;}#huaban_Button a:hover {text-decoration: none; background-image: -webkit-linear-gradient(top, #fefeff, #efefef); background-image: -moz-linear-gradient(top, #fefeff, #efefef); box-shadow: inset 0 1px rgba(255,255,255,0.35), 0 1px 1px rgba(35,24,24,0.75); -o-box-shadow: inset 0 1px rgba(255,255,255,0.35), 0 1px 1px rgba(35,24,24,0.75); -ms-box-shadow: inset 0 1px rgba(255,255,255,0.35), 0 1px 1px rgba(35,24,24,0.75); -moz-box-shadow: inset 0 1px rgba(255,255,255,0.35), 0 1px 1px rgba(35,24,24,0.75); -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.35), 0 1px 1px rgba(35,24,24,0.75);}#huaban_Button a:active {text-decoration: none; background-image: -webkit-linear-gradient(top, #fefeff, #efefef); background-image: -moz-linear-gradient(top, #fefeff, #efefef); box-shadow: inset 0 1px 2px rgba(34,25,25,0.25), 0 0 1px rgba(232,230,230,0.5); -o-box-shadow: inset 0 1px 2px rgba(34,25,25,0.25), 0 0 1px rgba(232,230,230,0.5); -ms-box-shadow: inset 0 1px 2px rgba(34,25,25,0.25), 0 0 1px rgba(232,230,230,0.5); -moz-box-shadow: inset 0 1px 2px rgba(34,25,25,0.25), 0 0 1px rgba(232,230,230,0.5); -webkit-box-shadow: inset 0 1px 2px rgba(34,25,25,0.25), 0 0 1px rgba(232,230,230,0.5);}#huaban_Button a strong {position: relative; line-height: 12px;}#huaban_Button a.thunderpin {margin-right: 0; border-right: none; width: 14px; padding: 5px 0 5px 4px; border-top-right-radius: 0; border-bottom-right-radius: 0; -webkit-border-top-right-radius: 0; -webkit-border-bottom-right-radius: 0; -moz-border-top-right-radius: 0; -moz-border-bottom-right-radius: 0; -ms-border-top-right-radius: 0; -ms-border-bottom-right-radius: 0; -o-border-top-right-radius: 0; -o-border-bottom-right-radius: 0;}#huaban_Button a.thunderpin em {background: url(http://huaban.com/img/ActionIcons10.png?20120801) no-repeat -30px 0; position: relative; display: inline-block; width: 10px; height: 10px; top: 1px; left: -2px;}#huaban_Button a.thunderpin:hover em {background-image-postion: -30px -10px;}#huaban_Button a.thunderpin:active em {background-image-postion: -30px -20px;}#huaban_Button a.pin {left: 20px; width: 64px; margin-left: 0; *margin-left: -2px; border-top-left-radius: 0; border-bottom-left-radius: 0; -webkit-border-top-left-radius: 0; -webkit-border-bottom-left-radius: 0; -moz-border-top-left-radius: 0; -moz-border-bottom-left-radius: 0; -ms-border-top-left-radius: 0; -ms-border-bottom-left-radius: 0; -o-border-top-left-radius: 0; -o-border-bottom-left-radius: 0;}.huaban_thunder_tip {position: absolute; z-index: 999999999 !important; background: #000; background: rgba(0,0,0,0.5); color: white; line-height: 16px; padding: 5px; border-radius: 2px; margin-left: 2px; }.huaban_thunder_tip a {text-shadow: none; cursor: pointer; padding: 0 4px; margin: 0 2px; color: white; font-size: 13px; background: rgba(255, 255, 255, 0.4); }.huaban_thunder_tip a:hover {color: #B90000; background: white; text-decoration: none; }.huabanImagePreview .huaban_thunder_tip {line-height: 12px; padding: 8px 10px; font-size: 14px; top: 50%; left: 50%; margin-left: -48px; margin-top: -18px;}.huabanImagePreview .huaban_thunder_tip_warning {left: 48px; height: auto; text-align: left;}.huaban_thunder_tip_success {color: #fff;font-weight: bold;}.huaban_thunder_tip p {font-weight: normal; margin-top: 2px; margin-bottom: 0; padding-left: 20px; text-align: left;}.huaban_thunder_tip a {color: #fff;}.huaban_thunder_tip_failed {height: 32px; font-weight: bold; color: #fff;background: #c90000; background: rgba(201, 0, 0, .5); }.huaban_thunder_tip_failed p {margin: 0 2px; font-weight: normal; font-size: 12px;}.huaban_thunder_tip span { padding-left: 22px; position: relative;}.huaban_thunder_tip_warning span {display: block; line-height: 18px;}.huaban_thunder_tip span em { background: url(http://huaban.com/img/bm_pin_sprite.png?20120918) no-repeat 0px -150px; display: inline-block; height: 16px; width: 16px; position: absolute; left: 0; top: 50%; margin-top: -8px;}.huaban_thunder_tip_success span em { background: url(http://huaban.com/img/bm_pin_sprite.png?20120918) no-repeat 0px -150px;}.huaban_thunder_tip_warning span em { top: 9px; left: 0px; background: url(http://huaban.com/img/bm_pin_sprite.png?20120918) no-repeat -80px -150px;}.huaban_thunder_tip_failed span em { background: url(http://huaban.com/img/bm_pin_sprite.png?20120918) no-repeat -40px -150px;}.huaban_thunder_tip_ing span em { background: url(http://huaban.com/img/thunder_motion.gif) no-repeat 2px 2px;}.huabanImagePreview .huaban_thunder_tip_failed {width: 140px; margin-left: -80px; margin-top: -26px;}.huabanImagePreview .huaban_thunder_tip_success {width: 88px; margin-left: -52px; margin-top: -26px;}.huabanImagePreview .huaban_thunder_tip_ing {width: 72px;}.huabanImagePreview .huaban_thunder_tip_success p, .huabanImagePreview .huaban_thunder_tip_failed p {margin-top: 9px; font-size: 12px; display: block;}</style><style>[touch-action="none"]{ -ms-touch-action: none; touch-action: none; }[touch-action="pan-x"]{ -ms-touch-action: pan-x; touch-action: pan-x; }[touch-action="pan-y"]{ -ms-touch-action: pan-y; touch-action: pan-y; }[touch-action="scroll"],[touch-action="pan-x pan-y"],[touch-action="pan-y pan-x"]{ -ms-touch-action: pan-x pan-y; touch-action: pan-x pan-y; }</style><style id="clearly_highlighting_css" type="text/css">/* selection */ html.clearly_highlighting_enabled ::-moz-selection { background: rgba(246, 238, 150, 0.99); } html.clearly_highlighting_enabled ::selection { background: rgba(246, 238, 150, 0.99); } /* cursor */ html.clearly_highlighting_enabled {    /* cursor and hot-spot position -- requires a default cursor, after the URL one */    cursor: url("chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/images/highlight--cursor.png") 14 16, text; } /* highlight tag */ em.clearly_highlight_element {    font-style: inherit !important; font-weight: inherit !important;    background-image: url("chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/images/highlight--yellow.png");    background-repeat: repeat-x; background-position: top left; background-size: 100% 100%; } /* the delete-buttons are positioned relative to this */ em.clearly_highlight_element.clearly_highlight_first { position: relative; } /* delete buttons */ em.clearly_highlight_element a.clearly_highlight_delete_element {    display: none; cursor: pointer;    padding: 0; margin: 0; line-height: 0;    position: absolute; width: 34px; height: 34px; left: -17px; top: -17px;    background-image: url("chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/images/highlight--delete-sprite.png"); background-repeat: no-repeat; background-position: 0px 0px; } em.clearly_highlight_element a.clearly_highlight_delete_element:hover { background-position: -34px 0px; } /* retina */ @media (min--moz-device-pixel-ratio: 2), (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {    em.clearly_highlight_element { background-image: url("chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/images/highlight--yellow@2x.png"); }    em.clearly_highlight_element a.clearly_highlight_delete_element { background-image: url("chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/images/highlight--delete-sprite@2x.png"); background-size: 68px 34px; } } </style></head>

<body huaban_collector_injected="true">
<div id="header">
    <a href="http://www.zhangxinxu.com/" class="logo" title="回到鑫空间-鑫生活首页">
        <img src="http://www.zhangxinxu.com/php/image/zxx_home_logo.png" border="0">
    </a>
</div>
<div id="main">
    <h1>HTML5 dataset下的数据图效果实例页面</h1>
    <div id="body" class="light">
        <div id="content" class="show">
            <h3>展示</h3>
            <div class="article_new"><a href="http://www.zhangxinxu.com/wordpress/?p=1693">回到相关文章 »</a></div>
            <div class="demo">
                <div id="top">
                    <p id="range">2000 <input id="year" type="range" min="2000" max="2010" value="2000" step="2"> 2010</p>
                    <div id="title">2004</div>
                    <div id="unsupport"></div>
                </div>
                <div id="dataset" role="main">
                    <b data-country="UK" data-size="2" data-cost="0.0837"><i>UK</i></b>
                    <b data-country="Germany" data-size="5" data-cost="0.1259"><i>Germany</i></b>
                    <b data-country="France" data-size="3" data-cost="0.0905"><i>France</i></b>
                    <b data-country="Greece" data-size="1" data-cost="0.0621"><i>Greece</i></b>
                    <b data-country="Ireland" data-size="3" data-cost="0.1055"><i>Ireland</i></b>
                    <b data-country="Sweden" data-size="2" data-cost="0.0898"><i>Sweden</i></b>
                    <b data-country="Belgium" data-size="4" data-cost="0.1145"><i>Belgium</i></b>
                    <b data-country="Norway" data-size="3" data-cost="0.0985"><i>Norway</i></b>
                </div>
                <p style="text-align:center;">数据提供：<a href="http://epp.eurostat.ec.europa.eu/tgm/table.do?tab=table&amp;plugin=1&amp;language=en&amp;pcode=ten00115">Eurostat</a></p>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script>
    (function() {
        var electricitydata = {
            '2000': {
                'UK': [3, 0.1056],
                'Germany': [4, 0.1191],
                'France': [3, 0.0928],
                'Greece': [1, 0.0564],
                'Ireland': [2, 0.0795],
                'Sweden': [1, 0.0637],
                'Belgium': [4, 0.1171],
                'Norway': [1, 0.0720]
            },
            '2002': {
                'UK': [3, 0.1031],
                'Germany': [5, 0.1261],
                'France': [3, 0.0923],
                'Greece': [1, 0.0580],
                'Ireland': [2, 0.0883],
                'Sweden': [1, 0.0701],
                'Belgium': [3, 0.1137],
                'Norway': [3, 0.0927]
            },
            '2004': {
                'UK': [2, 0.0837],
                'Germany': [5, 0.1259],
                'France': [3, 0.0905],
                'Greece': [1, 0.0621],
                'Ireland': [3, 0.1055],
                'Sweden': [2, 0.0898],
                'Belgium': [4, 0.1145],
                'Norway': [3, 0.0985]
            },
            '2006': {
                'UK': [3, 0.0971],
                'Germany': [5, 0.1374],
                'France': [2, 0.0905],
                'Greece': [1, 0.0643],
                'Ireland': [5, 0.1285],
                'Sweden': [2, 0.0876],
                'Belgium': [4, 0.1123],
                'Norway': [4, 0.1101]
            },
            '2008': {
                'UK': [5, 0.1394],
                'Germany': [5, 0.1299],
                'France': [3, 0.0914],
                'Greece': [3, 0.0957],
                'Ireland': [6, 0.1559],
                'Sweden': [4, 0.1085],
                'Belgium': [6, 0.1500],
                'Norway': [4, 0.1179]
            },
            '2010': {
                'UK': [5, 0.1321],
                'Germany': [5, 0.1381],
                'France': [3, 0.0922],
                'Greece': [3, 0.0975],
                'Ireland': [7, 0.1589],
                'Sweden': [4, 0.1195],
                'Belgium': [4, 0.1449],
                'Norway': [6, 0.1484]
            }
        };

        var slider = document.getElementById("year"),
                title = document.querySelector("#title"),
                countries = document.querySelectorAll("#dataset b"),
                currentstats, elm,
                root = document.documentElement;


        if(countries[0].dataset == undefined) {
            document.querySelector("#unsupport").innerHTML += "<strong>您的浏览器不支持datasets. 需使用Opera 11.10+, Chrome 9+ 来查看该demo.</strong>";
        } else {
            function changeGraph() {
                title.textContent = slider.value;
                root.className = "yr" + slider.value;
                currentstats = electricitydata[slider.value];
                for(country in currentstats) {
                    console.log(currentstats);
                    elm = document.querySelector("b[data-country='" + country + "']");
                    elm.dataset.size = currentstats[country][0];
                    elm.dataset.cost = currentstats[country][1];
                }
            }

            slider.addEventListener('change', changeGraph, false);
            changeGraph();
        }

    })();
</script>
<div id="footer">
    Designed &amp; Powerd by <a href="http://www.zhangxinxu.com/">zhangxinxu</a><br>
    Copyright© 张鑫旭-鑫空间-鑫生活<br>
    <a href="http://www.miibeian.gov.cn/" target="_blank">鄂ICP备09015569号</a>
</div>
<div id="ad">
    <script type="text/javascript">	google_ad_client = "pub-0090627341039040";google_ad_slot = "2041257798";google_ad_width = 468;google_ad_height = 60;</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><ins style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><iframe width="468" height="60" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-11205167-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</div>


<script charset="utf-8"> (function(w, d, g, J) { var e = J.stringify || J.encode; d[g] = d[g] || {}; d[g]['showValidImages'] = d[g]['showValidImages'] || function() { w.postMessage(e({'msg': {'g': g, 'm':'s'}}), location.href); } })(window, document, '__huaban', JSON); </script></body></html>
